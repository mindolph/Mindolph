# v1.12 发行说明

### 新功能

* Gen-AI：
	* 允许用户在启动前更改生成摘要的提示词。
	* 添加对月之暗面 LLM API 的支持。

* PlantUML： 
	* 当插入符号移动到其他代码块时自动切换预览页面，这个功能可以通过编辑器的上下文菜单切换。
	* 通过代码片段支持 CSS 样式和 C4 模型图。
	* 添加一些新的 sprites（Tupadr3）片段组，包括 devicons、font-awesome、material、govicons 和 weather。
	* 为PlantUML编辑器引入了一种特殊的多层级大纲的注释格式，通过在注释中使用这种格式可以让指定的内容显示在大纲条目里。其中`*`号的数量表示层级，例如：`' *foobar*`表示第一层标题，`' **foobar**` 表示第二层标题。
	* 添加新工具栏以快速插入 `diagram`， `entity`， `actor`， `rectangle`， 大纲注解，行注视，块注释等代码片段。

* 在 Markdown 的引述段落中实现语法高亮，例如内联代码，加粗字体等等。

* 监听工作空间中的文件夹，当外部变化发生时更新工作空间。

* 重命名当前打开的集合。 

### 改进

* 代码片段
	* 为片段显示包含说明和代码的工具提示，同时暂停时间更长。
	* 为自定义片段添加说明。
	* 当片段对话框弹出时，自动聚焦于输入字段或区域。
	* 显示片段组中的项目数量，并在输入关键字过滤后更新。
	* 合并 PlantUML 的一些片段组。

* Markdown
	* 预览视图支持显示 GIF 图片。  
	* 使用 Markdown 编辑器工具栏上的表格按钮插入表格时，如果当时已选中文本内容，生成的表格会自动分割并包裹选中的内容。并且允许用户在表格插入之前选择分隔符用来切分段落。。
	* 优化新创建 Markdown 文件的标题自动生成功能。
	* 水平分割线的语法高亮。

* PlantUML
	* 改进 JSON 和 YAML 语法高亮。
	* PlantUML 新增泳道的语法高亮。
	* 优化了PlantUML 注释前的空白字符宽度，使其和上下行代码对齐。
	* 优化创建 PlantUML 文件的模版。 

* 性能优化
	* 优化了应用程序启动性能，现在速度快多了。
	* 优化语法高亮的性能。
	* 优化了在工作区中定位文件的性能。
	* 优化可关闭资源的处理，提升程序稳定性。
	* 提升了很多功能的性能（Markdown 编辑器自动同步，代码区输入提示，加载工作空间和文件等等）

* 优化 Markdown 和 PlantUML 的语法高亮颜色，使其更加美观易读。

* 在段落开头添加前缀的功能会考虑段落开头的空白字符，包括 PlantUML 中的快速注释、Markdown 中的快速注释、快速项目符号列表等。

* 更新 OpenAI, Gemini, 通义千问, ChatGLM 和 Deepseek 的模型列表。

* 在弹出上下文菜单之前将光标自动移动到用户右击代码编辑器的位置。

* 减少可执行 jar 文件的大小。

### Bug修复

* 网络代理的用户名和密码无效。

* huggingface API 的域名变了。

* 在思维导图的节点的 Note 编辑器中的 `replace` 和 `replace all`  功能无效。

* 在思维导图中，当根节点选中或者没有节点选中时，按下方向键会错误的切换文件标签。

* 当打开编辑器但从未点击时，`Generate` 对话框会自动移动到文件末尾

* Markdown 的代码块，编号列表的语法高亮显示错误。

* 选择集合时，如果集合中有任何文件缺失，则应更新该集合。

* 思维导图中查找/替换功能的大小写敏感选项不能正常工作。

* 在图片查看器打开时和代码编辑编辑器的预览模式下，复制/剪切/粘贴功能和查找/替换功能应当被禁用。

* 有缺陷的 PlantUML 代码片段和错误的 PlantUML 语法高亮。

* 移除废弃的 Gemini 和 Qwen 模型。

* 右键双击代码片段项会插入代码片段。

* 设置自定义模型的最大输出 Token 数不能正常工作。

* 替换月之暗面的不存在的模型为 `kimi-latest`.

* CSV编辑器中无法通过快捷键唤起查找/替换，复制/剪切/粘贴功能。

* 在`Recent Files` 列表中的文件如果被外部删除，图标会显示成文件夹。

* 取消思维导图中的 `Add URL` 对话框会导致文件状态被修改。

### 依赖升级

* 更新 JavaFX 至 24.0.2
	* 相应的最小JDK版本要求为 22

* 更新绑定的JDK至24.0.2

* 更新依赖库。

---
> Created at 2025-03-08 16:01:07
